<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="UTF-8">
    <meta content="width=device-width,user-scalable=no" name="viewport">
    <link href="css/content.css" rel="stylesheet" />
    <script type="text/javascript" src="js/jquery-1.11.0.js"></script>
    <script type="text/javascript">
        //是否高亮的标志
        var markLight=true;
        
        //改变字体大小
        function changeFontSize(sizeValue) {
            $("article").css("font-size", Math.round(sizeValue));
        }
        
        //高亮文章单词
        function highLightWord(words) {
            
            if(markLight){
                var c = new RegExp("\\w+[^\\w+\\.]", "g");
    
                var arrMactches = words.match(c);
                for (var i = 0; i < arrMactches.length ; i++) {
                    var regExp = new RegExp(arrMactches[i].trim().replace(/[(|)]/g,""),'g');
                    $(".content").each(function () {
                        var html = $(this).html();
                        var newHtml = html.replace(regExp, '<span class="highlight">' + arrMactches[i].trim() + '</span>');//将找到的关键字替换，加上highlight属性；
                        $('.content').html(newHtml);
                        markLight=false;
                    });
                }
            }else{
                clearHightLight();
            }
        }
        
<<<<<<< HEAD
        //根据单词等级高亮文中单词
        function highLightLevelWord(words) {

            //clearHightLight();

            var arrMactches = words.split('|');

            for (var i = 0; i < arrMactches.length-1; i++) {
                var regExp = new RegExp(arrMactches[i].trim(), 'g');
                $(".content").each(function () {
                    var html = $(this).html();
                    var newHtml = html.replace(regExp, '<span class="highlight">' + arrMactches[i].trim() + '</span>');//将找到的关键字替换，加上highlight属性；
                    $('.content').html(newHtml);
                });
            }
        }

=======
        //清除高亮效果
>>>>>>> 9e0b29ce3f281fdb84c684209401c281f1a7dd49
        function clearHightLight()
        {
            //清除高亮效果
            $("span[class='highlight']").each(function () {
                var text = document.createTextNode($(this).text());
                $(this).replaceWith($(text));
            });
            markLight = true;
        }
        
        //添加去除空格方法
        String.prototype.trim = function () {
            return this.replace(/(^\s*)|(\s*$)/g, "");
        }
    </script>
</head>
<body>
    <article>
        {body}
    </article>
    <script type="text/javascript" src="js/content.js"></script>
</body>
</html>
